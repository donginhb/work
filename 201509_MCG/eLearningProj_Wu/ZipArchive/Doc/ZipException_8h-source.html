<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ZipArchive: ZipException.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff" leftmargin="32" marginwidth="32" topmargin="32" marginheight="32">
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">D:</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">Moje dokumenty</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">Visual</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">ZipArchive</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">_temp</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">ZipArchive</a></div>
<h1>ZipException.h</h1><a href="ZipException_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00002 <span class="comment">// $RCSfile: ZipException.h,v $</span>
00003 <span class="comment">// $Revision: 1.2 $</span>
00004 <span class="comment">// $Date: 2005/02/14 07:50:10 $ $Author: Tadeusz Dracz $</span>
00006 <span class="comment"></span><span class="comment">// This source file is part of the ZipArchive library source distribution and</span>
00007 <span class="comment">// is Copyrighted 2000-2005 by Tadeusz Dracz (http://www.artpol-software.com/)</span>
00008 <span class="comment">//</span>
00009 <span class="comment">// This program is free software; you can redistribute it and/or</span>
00010 <span class="comment">// modify it under the terms of the GNU General Public License</span>
00011 <span class="comment">// as published by the Free Software Foundation; either version 2</span>
00012 <span class="comment">// of the License, or (at your option) any later version.</span>
00013 <span class="comment">// </span>
00014 <span class="comment">// For the licensing details see the file License.txt</span>
00016 <span class="comment"></span>
00024 <span class="preprocessor">#if !defined(AFX_ZIPEXCEPTION_H__E3546921_D728_11D3_B7C7_E77339672847__INCLUDED_)</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#define AFX_ZIPEXCEPTION_H__E3546921_D728_11D3_B7C7_E77339672847__INCLUDED_</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#if _MSC_VER &gt; 1000</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#pragma warning( push )</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#pragma warning (disable:4702) // disable "Unreachable code" warning in Throw function in the Release mode</span>
00031 <span class="preprocessor"></span><span class="preprocessor">#endif // _MSC_VER &gt; 1000</span>
00032 <span class="preprocessor"></span>
00033 
00034 <span class="preprocessor">#include "ZipString.h"</span>
00035 <span class="preprocessor">#include "ZipBaseException.h"</span>
00036 <span class="preprocessor">#include "ZipExport.h"</span>
00037 
00038 <span class="preprocessor">#define ZIP_ENABLE_ERROR_DESCRIPTION</span>
00039 <span class="preprocessor"></span> 
<a name="l00045"></a><a class="code" href="classCZipException.html">00045</a> <span class="keyword">class </span>ZIP_API CZipException : <span class="keyword">public</span> CZipBaseException
00046 {
00047 <span class="keyword">public</span>:
00048 
00055   CZipException(<span class="keywordtype">int</span> iCause = generic, LPCTSTR lpszZipName = NULL);
00056 
00057   <a class="code" href="classCZipException.html#a0">CZipException::CZipException</a>(CZipException&amp; e)
00058   {
00059    <a class="code" href="classCZipException.html#o0">m_szFileName</a> = e.m_szFileName;
00060    <a class="code" href="classCZipException.html#o1">m_iCause</a> = e.m_iCause;
00061   }
00062 
<a name="l00078"></a><a class="code" href="classCZipException.html#e0">00078</a>  <span class="keyword">static</span> <span class="keywordtype">void</span> Throw(<span class="keywordtype">int</span> iZipError = CZipException::generic, LPCTSTR lpszZipName = NULL)
00079  {
00080 <span class="preprocessor">  #ifdef _MFC_VER</span>
00081 <span class="preprocessor"></span>   <span class="keywordflow">throw</span> <span class="keyword">new</span> CZipException(iZipError, lpszZipName);
00082 <span class="preprocessor">  #else</span>
00083 <span class="preprocessor"></span>   CZipException e(iZipError, lpszZipName);
00084    <span class="keywordflow">throw</span> e;
00085 <span class="preprocessor">  #endif</span>
00086 <span class="preprocessor"></span> }
00087 
00088   
00096  <span class="keyword">static</span> <span class="keywordtype">int</span> ZlibErrToZip(<span class="keywordtype">int</span> iZlibError);
00097 
00098 
00099 <span class="preprocessor">#ifdef ZIP_ENABLE_ERROR_DESCRIPTION</span>
00100 <span class="preprocessor"></span>
00109  CZipString GetErrorDescription();
00110 
00111  
00135  BOOL GetErrorMessage(LPTSTR lpszError, UINT nMaxError, UINT* = NULL);
00136 
00137 <span class="preprocessor">#endif //ZIP_ENABLE_ERROR_DESCRIPTION</span>
00138 <span class="preprocessor"></span>
<a name="l00142"></a><a class="code" href="classCZipException.html#o0">00142</a>  CZipString m_szFileName;
00143 
<a name="l00147"></a><a class="code" href="classCZipException.html#w26">00147</a>  <span class="keyword">enum</span> ZipErrors
00148  {
00149   noError,   
00150 <span class="comment">//     1 - 42 reserved for errno (from STL) values - used only in non-MFC versions</span>
00151 <span class="comment">//     43 - 99 reserved</span>
00152   generic  = 100, 
00153   badZipFile,   
00154   badCrc,    
00155   noCallback,   
00156   aborted,   
00157   abortedAction,  
00158   abortedSafely,  
00159   nonRemovable,  
00160   tooManyVolumes,  
00161   tooLongFileName, 
00162   badPassword,  
00163   dirWithSize,  
00164   internal,   
00165   notRemoved,   
00166   notRenamed,   
00167   platfNotSupp,  
00168   cdirNotFound,  
00169   streamEnd = 500, 
00170   needDict,   
00171   errNo,    
00172   streamError,  
00173   dataError,   
00174   memError,   
00175   bufError,   
00176   versionError,  
00177  };
00178 
00179 
00180 
<a name="l00184"></a><a class="code" href="classCZipException.html#o1">00184</a>  <span class="keywordtype">int</span> m_iCause;
00185 
00186  
00187  <span class="keyword">virtual</span> ~CZipException() throw();
00188 protected:
00189 
00190 #ifdef ZIP_ENABLE_ERROR_DESCRIPTION
00191 
00192 
00202  CZipString GetInternalErrorDescription(<span class="keywordtype">int</span> iCause, <span class="keywordtype">bool</span> bNoLoop = false);
00203 
00204 
00211  CZipString GetSystemErrorDescription();
00212 
00213 
00214 #endif <span class="comment">//ZIP_ENABLE_ERROR_DESCRIPTION</span>
00215 
00216 #ifdef _MFC_VER
00217  DECLARE_DYNAMIC(CZipException)
00218  #pragma warning( pop )
00219 #endif
00220 };
00221 
00222 
00223 #endif <span class="comment">// !defined(AFX_ZIPEXCEPTION_H__E3546921_D728_11D3_B7C7_E77339672847__INCLUDED_)</span>
00224 
00225 
</pre></div><hr><address><small>
ZipArchive Copyright &copy;&nbsp;2000-2005 <a href="mailto:tdracz@artpol-software.com"> Tadeusz Dracz </a>. Generated at Fri Aug 5 21:44:50 2005.
</small></address>
</body>
</html>
