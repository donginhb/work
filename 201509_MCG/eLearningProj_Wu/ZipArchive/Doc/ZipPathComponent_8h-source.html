<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ZipArchive: ZipPathComponent.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff" leftmargin="32" marginwidth="32" topmargin="32" marginheight="32">
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">D:</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">Moje dokumenty</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">Visual</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">ZipArchive</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">_temp</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">ZipArchive</a></div>
<h1>ZipPathComponent.h</h1><a href="ZipPathComponent_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00002 <span class="comment">// $RCSfile: ZipPathComponent.h,v $</span>
00003 <span class="comment">// $Revision: 1.2 $</span>
00004 <span class="comment">// $Date: 2005/02/14 07:50:10 $ $Author: Tadeusz Dracz $</span>
00006 <span class="comment"></span><span class="comment">// This source file is part of the ZipArchive library source distribution and</span>
00007 <span class="comment">// is Copyrighted 2000-2005 by Tadeusz Dracz (http://www.artpol-software.com/)</span>
00008 <span class="comment">//</span>
00009 <span class="comment">// This program is free software; you can redistribute it and/or</span>
00010 <span class="comment">// modify it under the terms of the GNU General Public License</span>
00011 <span class="comment">// as published by the Free Software Foundation; either version 2</span>
00012 <span class="comment">// of the License, or (at your option) any later version.</span>
00013 <span class="comment">// </span>
00014 <span class="comment">// For the licensing details see the file License.txt</span>
00016 <span class="comment"></span>
00022 <span class="preprocessor">#if !defined(AFX_ZIPPATHCOMPONENT_H__9B222C08_AD11_4138_96CC_1237511E3E37__INCLUDED_)</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#define AFX_ZIPPATHCOMPONENT_H__9B222C08_AD11_4138_96CC_1237511E3E37__INCLUDED_</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#if _MSC_VER &gt; 1000</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#endif // _MSC_VER &gt; 1000</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#include "ZipString.h"</span>
00029 <span class="preprocessor">#include "ZipExport.h"</span>
00030 
<a name="l00034"></a><a class="code" href="classCZipPathComponent.html">00034</a> <span class="keyword">class </span>ZIP_API CZipPathComponent  
00035 {
00036 <span class="keyword">public</span>:
00037  CZipPathComponent(){}
00038  <span class="keyword">virtual</span> ~CZipPathComponent();
00039 
<a name="l00040"></a><a class="code" href="classCZipPathComponent.html#s0">00040</a>  <span class="keyword">static</span> <span class="keyword">const</span> TCHAR m_cSeparator; 
00041 
<a name="l00044"></a><a class="code" href="classCZipPathComponent.html#e0">00044</a>  <span class="keyword">static</span> <span class="keywordtype">void</span> AppendSeparator(CZipString&amp; szPath)
00045  {
00046   RemoveSeparators(szPath);
00047   szPath += m_cSeparator;
00048  }
00049 
<a name="l00053"></a><a class="code" href="classCZipPathComponent.html#e1">00053</a>  <span class="keyword">static</span> <span class="keywordtype">void</span> RemoveSeparators(CZipString&amp; szPath)
00054  {
00055 <span class="comment">//   szPath.TrimRight(m_cSeparator);</span>
00056   szPath.TrimRight(_T(<span class="stringliteral">"\\/"</span>));
00057  }
00058 
<a name="l00064"></a><a class="code" href="classCZipPathComponent.html#e2">00064</a>  <span class="keyword">static</span> <span class="keywordtype">void</span> RemoveSeparatorsLeft(CZipString&amp; szPath)
00065  {
00066   szPath.TrimLeft(_T(<span class="stringliteral">"\\/"</span>));
00067  }
00068 
00069 
<a name="l00076"></a><a class="code" href="classCZipPathComponent.html#e3">00076</a>  <span class="keyword">static</span> <span class="keywordtype">bool</span> IsSeparator(TCHAR c)
00077  {
00078   <span class="keywordflow">return</span> c == _T(<span class="charliteral">'\\'</span>) || c == _T(<span class="charliteral">'/'</span>);
00079  }
00080  
<a name="l00084"></a><a class="code" href="classCZipPathComponent.html#e4">00084</a>  <span class="keyword">static</span> <span class="keywordtype">bool</span> HasEndingSeparator(<span class="keyword">const</span> CZipString&amp; szPath)
00085  {
00086   <span class="keywordtype">int</span> iLen = szPath.GetLength();
00087   <span class="keywordflow">if</span> (iLen)
00088    <span class="keywordflow">return</span> IsSeparator(szPath[iLen - 1]);
00089   <span class="keywordflow">else</span>
00090    <span class="keywordflow">return</span> <span class="keyword">false</span>;
00091  }
00092 
<a name="l00099"></a><a class="code" href="classCZipPathComponent.html#a2">00099</a>  CZipPathComponent(LPCTSTR lpszFullPath)
00100  {
00101   SetFullPath(lpszFullPath);
00102  }
00103  
00104  <span class="comment">// full path of the file (not a directory alone)</span>
00111 <span class="comment"></span> <span class="keywordtype">void</span> SetFullPath(LPCTSTR lpszFullPath);
00112 
<a name="l00116"></a><a class="code" href="classCZipPathComponent.html#a4">00116</a>  CZipString GetFileTitle()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_szFileTitle;}
00117 
<a name="l00124"></a><a class="code" href="classCZipPathComponent.html#a5">00124</a>  <span class="keywordtype">void</span> SetFileTitle(LPCTSTR lpszFileTitle) { m_szFileTitle = lpszFileTitle;}
00125 
00126  
<a name="l00132"></a><a class="code" href="classCZipPathComponent.html#a6">00132</a>  <span class="keywordtype">void</span> SetExtension(LPCTSTR lpszExt) 
00133  {
00134   m_szFileExt = lpszExt;
00135   m_szFileExt.TrimLeft(_T(<span class="charliteral">'.'</span>));
00136  }
00137 
<a name="l00141"></a><a class="code" href="classCZipPathComponent.html#a7">00141</a>  CZipString GetFileExt()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_szFileExt;}
<a name="l00145"></a><a class="code" href="classCZipPathComponent.html#a8">00145</a>  CZipString GetFileDrive()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_szDrive;}
00149  CZipString GetNoDrive() <span class="keyword">const </span>;
00150 
<a name="l00154"></a><a class="code" href="classCZipPathComponent.html#a10">00154</a>  CZipString GetFileName()<span class="keyword"> const</span>
00155 <span class="keyword"> </span>{
00156   CZipString szFullFileName = m_szFileTitle;
00157   <span class="keywordflow">if</span> (!m_szFileExt.IsEmpty())
00158   {
00159    szFullFileName += _T(<span class="stringliteral">"."</span>);
00160    szFullFileName += m_szFileExt;
00161   }
00162   <span class="keywordflow">return</span> szFullFileName;
00163  }
<a name="l00167"></a><a class="code" href="classCZipPathComponent.html#a11">00167</a>  CZipString GetFullPath()<span class="keyword"> const</span>
00168 <span class="keyword"> </span>{
00169   CZipString szFullPath = GetFilePath();
00170   CZipString szFileName = GetFileName();
00171   <span class="keywordflow">if</span> (!szFileName.IsEmpty())
00172   {
00173    szFullPath  += m_cSeparator;
00174    szFullPath  += szFileName;
00175   }
00176   <span class="keywordflow">return</span> szFullPath;
00177 
00178  }
<a name="l00182"></a><a class="code" href="classCZipPathComponent.html#a12">00182</a>  CZipString GetFilePath()<span class="keyword"> const</span>
00183 <span class="keyword"> </span>{
00184    CZipString szDrive = m_szDrive;
00185    CZipString szDir = m_szDirectory;
00186    <span class="keywordflow">if</span> (!szDrive.IsEmpty() &amp;&amp; !szDir.IsEmpty())
00187     szDrive += m_cSeparator;
00188 
00189    <span class="keywordflow">return</span> <a class="code" href="ZipPathComponent_8h.html#a0">m_szPrefix</a> + szDrive + szDir; 
00190 
00191  }
00192 <span class="keyword">protected</span>:
00197  CZipString m_szDirectory, 
<a name="l00198"></a><a class="code" href="classCZipPathComponent.html#z3_4">00198</a>   m_szFileTitle,   
00199   m_szFileExt,   
00200   m_szDrive,    
00201   <a class="code" href="ZipPathComponent_8h.html#a0">m_szPrefix</a>;    
00202 
00203  
00204 };
00205 
00206 <span class="preprocessor">#endif // !defined(AFX_ZIPPATHCOMPONENT_H__9B222C08_AD11_4138_96CC_1237511E3E37__INCLUDED_)</span>
</pre></div><hr><address><small>
ZipArchive Copyright &copy;&nbsp;2000-2005 <a href="mailto:tdracz@artpol-software.com"> Tadeusz Dracz </a>. Generated at Fri Aug 5 21:44:50 2005.
</small></address>
</body>
</html>
